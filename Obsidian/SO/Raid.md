
A ideia fundamental por trás de um RAID é instalar uma caixa cheia de discos junto ao computador, em geral um grande servidor, substituir a placa controladora de disco com um controlador RAID, copiar os dados para o RAID e então continuar a operação normal.

![[Pasted image 20240824164755.png]]

#HD_Raid_0: Suponha o caso em que tenho 2 HD 's de 1TB. Em raid 0 o SO vai identificar esses dois HD 's como sendo um só. Ou seja, a partição c:/ verá como 2TB de armazenamento. No caso do Raid 0 temos maior performance, pois como os programas no computador são armazenados em blocos no HD, a tabela de particionamento pode guardar o A, C, E, G no HD 1 e B, D, F, H no HD 2. Desta forma, temos o dobro do armazenamento mas também o dobro da performance de leitura e escrita. O problema está na segurança, se o HD 1 der defeito, e todos os arquivos forem perdidos, você tem perda de dados em um programa. Ou seja, perdeu tudo que estava no HD 1 e o HD 2 também, pois ele fica com pacotes incompletos. (Raid 0 é bom para jogos ou dados que possuem backup em Nuvem). O RAID nível 0 funciona pior com sistemas opera-
cionais que habitualmente pedem por dados um setor de cada vez. Os resultados estarão corretos, mas não haverá paralelismo e, por conseguinte, nenhum ganho em desempenho.

#HD_Raid_1:  Neste caso, se tivermos 2 HDs de 1TB. O SO verá ambos como um sendo o espelho do outro. Assim, teremos a performance de um único HD, pois toda informação escrita em um será escrita no outro, mas o desempenho de leitura pode ser duas vezes melhor. A vantagem deste, é que caso haja perda de um HD o usuário não sentirá falta. Basta trocar o HD com problema e no próximo boot o SO irá copiar tudo de um HD para o outro. 

#HD_raid_2

O RAID nível 2 diferentemente de outros níveis de RAID que operam com blocos de dados, o RAID 2 trabalha com bits individuais ou pequenos grupos de bits. Ele funciona dividindo os dados a serem armazenados em unidades menores, como bytes ou palavras. Por exemplo, cada byte de dados (composto por 8 bits) pode ser dividido em dois pedaços de 4 bits. Para cada pedaço de 4 bits, um código de Hamming é calculado, adicionando 3 bits adicionais de paridade, resultando em um total de 7 bits (4 bits de dados mais 3 de paridade). Esses 7 bits são então distribuídos por 7 discos diferentes, com cada disco armazenando um bit específico. Os discos são sincronizados tanto na posição do braço de leitura/escrita quanto na posição rotacional, garantindo que todos os bits da palavra sejam escritos ou lidos simultaneamente. Essa sincronização precisa permite que o RAID 2 detecte e corrija erros em qualquer um dos bits armazenados; se um disco falhar ou um bit for corrompido, o código de Hamming pode identificar e corrigir o erro com base nas informações redundantes armazenadas nos bits de paridade dos outros discos. Embora o RAID 2 ofereça uma excelente proteção contra erros e um alto nível de redundância, sua complexidade e dependência de sincronização rigorosa tornam sua implementação custosa, e esse esquema exige que todos os discos tenham suas rotações sincronizadas. Além disso, o desempenho pode ser comprometido devido à necessidade de sincronização constante e à complexidade dos cálculos de códigos de Hamming. Por essas razões, o RAID 2 é raramente utilizado em sistemas modernos, sendo considerado obsoleto em comparação com outros níveis de RAID que oferecem melhor desempenho e simplicidade de implementação.

#HD_raid_3

O RAID nível 3 é uma versão simplificada do RAID nível 2 e é projetado para fornecer redundância e proteção contra falhas de disco, embora de uma maneira menos complexa do que o RAID 2. No RAID 3, os dados são armazenados em vários discos, mas, ao contrário do RAID 2, que usa múltiplos discos para armazenar cada bit individualmente, o RAID 3 utiliza um único disco dedicado exclusivamente à paridade. Em um sistema RAID 3, os dados são divididos em **palavras**, que são grupos de bits. Cada palavra de dados é distribuída entre vários discos. Para garantir a integridade dos dados, um **único bit de paridade** é calculado para cada palavra e armazenado em um disco separado, conhecido como disco de paridade. A paridade é uma forma de codificação que permite detectar e corrigir erros, mas no RAID 3, essa paridade é gerada apenas com base em um único bit por palavra de dados. Os discos que armazenam os dados precisam estar **sincronizados**, o que significa que os cabeçotes de leitura/escrita devem estar alinhados de forma precisa e todos os discos devem girar na mesma velocidade. Isso é necessário porque os dados de uma única palavra são distribuídos em vários discos simultaneamente. No entanto, uma limitação do RAID 3, assim como o RAID 2, é que, embora ele ofereça uma alta taxa de transferência de dados devido ao seu acesso simultâneo aos discos, o número de operações de entrada/saída (E/S) separadas que ele pode processar por segundo não é superior ao de um único disco. Isso ocorre porque o disco de paridade se torna um gargalo quando múltiplos acessos a dados ocorrem simultaneamente, pois ele precisa calcular e verificar a paridade para cada operação. Portanto, enquanto o RAID 3 é eficaz na proteção contra falhas de disco e na detecção de erros, ele pode não oferecer melhorias significativas no desempenho de E/S em comparação com sistemas que não utilizam RAID.

#HD_raid_4

O RAID nível 4 é um esquema de armazenamento que combina dados e paridade para proteger contra a perda de dados em caso de falha de um disco. Em um sistema RAID 4, os dados são divididos em blocos e distribuídos por vários discos, enquanto um disco separado é dedicado exclusivamente ao armazenamento da paridade. A paridade é calculada utilizando a operação de OU EXCLUSIVO (XOR) sobre os blocos de dados correspondentes, resultando em um bloco de paridade para cada conjunto de dados. Esse bloco de paridade permite que o RAID 4 recupere os dados perdidos se um disco falhar. Quando um disco falha, o sistema pode ler os dados restantes e o bloco de paridade para reconstruir os dados ausentes, usando a paridade para determinar o valor correto dos bytes perdidos. No entanto, o RAID 4 enfrenta desafios de desempenho, especialmente durante as operações de escrita. Quando um setor de dados é modificado, o sistema deve recalcular a paridade para refletir a nova informação. Isso envolve um processo de duas etapas: primeiro, o sistema lê o bloco de dados antigo e o bloco de paridade antigo; segundo, recalcula a nova paridade com base nos dados atualizados e reescreve o bloco de paridade. Mesmo que o sistema otimize esse processo para reduzir as leituras e gravações, ainda são necessárias duas leituras e duas gravações para cada pequena atualização, o que pode causar um desempenho de escrita mais lento. Esse gargalo é resultado do fato de que o disco de paridade se torna um ponto crítico, já que todas as atualizações de dados precisam atualizar também o disco de paridade. Portanto, enquanto o RAID 4 oferece uma boa proteção contra falhas de disco e garante a integridade dos dados, seu desempenho pode ser comprometido para operações de escrita frequentes e pequenas.

#HD_Raid_5 
RAID nível 5 distribuindo os bits de paridade uniformemente por todos os discos, de modo circular (round-robin), como mostrado na Figura 5.20(f). No entanto, caso ocorra uma quebra do disco, a reconstrução do disco falhado é um processo complexo. (É possível fazer um NAS (Network Attached Storage), em que 4 HDs ficam ligados e um quinto fica off em Cold Spare. Vamos enxergar os 4 HDs como um único. Assim, se um HD morrer por deterioração ou outros motivos, o quinto HD será substituído pelo que falhou e o controlador do Raid vai reconstruir os dados com base dos bits de paridade/redundantes dos outros 3 HDs com a adição da tecnologia spare).

![[Pasted image 20240824170029.png]]

#HD_Raid_6 

O RAID nível 6 é uma extensão do RAID nível 5 e oferece uma camada adicional de proteção contra falhas de disco. Enquanto o RAID 5 utiliza um único bloco de paridade para cada conjunto de dados, o RAID 6 utiliza dois blocos de paridade. Isso significa que, em um RAID 6, os dados são distribuídos entre vários discos, e dois blocos de paridade são calculados e armazenados em discos separados.

A principal vantagem do RAID 6 é a **aumentada confiabilidade**. Com dois blocos de paridade, o RAID 6 pode suportar a falha de até dois discos simultaneamente sem perda de dados. Isso é especialmente útil em cenários onde a recuperação de um disco pode ser complicada ou onde a probabilidade de múltiplas falhas de disco é mais alta. Para um RAID 5, se um disco falhar e o sistema estiver no processo de reconstrução (recuperando os dados do disco falhado usando a paridade), uma segunda falha de disco pode resultar em perda de dados, já que a paridade é apenas suficiente para corrigir a falha de um disco. O RAID 6, com sua dupla paridade, evita esse problema e oferece proteção adicional.

No entanto, essa proteção adicional vem com um custo. As operações de escrita em um RAID 6 são um pouco mais complexas e, portanto, mais lentas do que em um RAID 5. Isso se deve ao fato de que, para cada escrita, o sistema precisa calcular e atualizar dois blocos de paridade em vez de um. Esse processo envolve mais operações de leitura e escrita para garantir que ambas as paridades estejam corretas e atualizadas. Por outro lado, as operações de leitura não sofrem penalidades de desempenho adicionais em comparação com o RAID 5, pois a leitura dos dados e dos blocos de paridade é realizada de maneira eficiente.

Em resumo, o RAID 6 oferece um nível superior de proteção de dados devido à presença de dois blocos de paridade, o que permite que o sistema suporte a falha de dois discos simultaneamente. Isso aumenta a confiabilidade do armazenamento, especialmente em ambientes críticos onde a integridade dos dados é crucial, embora isso possa resultar em uma leve penalidade no desempenho das operações de escrita devido ao custo adicional dos cálculos de paridade.